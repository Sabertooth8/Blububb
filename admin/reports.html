<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laporan - Blububb Admin</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600&family=Poppins:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="admin.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="admin-layout">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <div class="sidebar-logo">
                <span class="logo-icon">üßÅ</span>
                <h2>Blububb</h2>
            </div>

            <ul class="sidebar-nav">
                <li>
                    <a href="dashboard.html">
                        <i class="fas fa-chart-pie"></i>
                        Dashboard
                    </a>
                </li>
                <li>
                    <a href="products.html">
                        <i class="fas fa-box"></i>
                        Produk
                    </a>
                </li>
                <li>
                    <a href="reports.html" class="active">
                        <i class="fas fa-chart-line"></i>
                        Laporan
                    </a>
                </li>
                <li>
                    <a href="members.html">
                        <i class="fas fa-users"></i>
                        Members
                    </a>
                </li>
            </ul>

            <div class="sidebar-footer">
                <a href="#" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <div class="admin-header">
                <h1>üìà Laporan Keuangan</h1>
                <div class="header-actions">
                    <div class="admin-user">
                        <div class="admin-user-avatar">üë§</div>
                        <span>Admin</span>
                    </div>
                </div>
            </div>

            <!-- Summary Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-card-icon green">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                    </div>
                    <h3>Rp 23.4jt</h3>
                    <p>Total Pendapatan Bulan Ini</p>
                </div>

                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-card-icon pink">
                            <i class="fas fa-shopping-bag"></i>
                        </div>
                    </div>
                    <h3>156</h3>
                    <p>Total Transaksi</p>
                </div>

                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-card-icon purple">
                            <i class="fas fa-calculator"></i>
                        </div>
                    </div>
                    <h3>Rp 150k</h3>
                    <p>Rata-rata Transaksi</p>
                </div>

                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-card-icon yellow">
                            <i class="fas fa-star"></i>
                        </div>
                    </div>
                    <h3>Korean Strawberry</h3>
                    <p>Produk Terlaris</p>
                </div>
            </div>

            <!-- Charts Row -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
                <!-- Monthly Revenue Chart -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>üìä Pendapatan 30 Hari</h3>
                    </div>
                    <canvas id="monthlyChart" height="200"></canvas>
                </div>

                <!-- Product Sales Chart -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>üéÇ Penjualan per Produk</h3>
                    </div>
                    <canvas id="productChart" height="200"></canvas>
                </div>
            </div>

            <!-- Transactions Table -->
            <div class="admin-table-container">
                <div class="table-header">
                    <h3>üí≥ Riwayat Transaksi</h3>
                    <button class="btn-add" style="background: var(--admin-success);">
                        <i class="fas fa-download"></i> Export
                    </button>
                </div>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Tanggal</th>
                            <th>Order ID</th>
                            <th>Pelanggan</th>
                            <th>Produk</th>
                            <th>Qty</th>
                            <th>Total</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>31 Jan 2026</td>
                            <td>#BLB010</td>
                            <td>Kak Maya</td>
                            <td>Korean Strawberry</td>
                            <td>2</td>
                            <td>Rp 300.000</td>
                            <td><span class="status-badge active">Selesai</span></td>
                        </tr>
                        <tr>
                            <td>31 Jan 2026</td>
                            <td>#BLB009</td>
                            <td>Kak Deni</td>
                            <td>Red Velvet Kiss</td>
                            <td>1</td>
                            <td>Rp 155.000</td>
                            <td><span class="status-badge active">Selesai</span></td>
                        </tr>
                        <tr>
                            <td>30 Jan 2026</td>
                            <td>#BLB008</td>
                            <td>Kak Lisa</td>
                            <td>Blueberry Cheese Cloud</td>
                            <td>1</td>
                            <td>Rp 160.000</td>
                            <td><span class="status-badge active">Selesai</span></td>
                        </tr>
                        <tr>
                            <td>30 Jan 2026</td>
                            <td>#BLB007</td>
                            <td>Kak Rina</td>
                            <td>Ice Cream Cake</td>
                            <td>3</td>
                            <td>Rp 225.000</td>
                            <td><span class="status-badge active">Selesai</span></td>
                        </tr>
                        <tr>
                            <td>29 Jan 2026</td>
                            <td>#BLB006</td>
                            <td>Kak Toni</td>
                            <td>Tiramisu Box, Croissant</td>
                            <td>2</td>
                            <td>Rp 110.000</td>
                            <td><span class="status-badge active">Selesai</span></td>
                        </tr>
                        <tr>
                            <td>29 Jan 2026</td>
                            <td>#BLB005</td>
                            <td>Kak Sari</td>
                            <td>Korean Fresh Cream</td>
                            <td>1</td>
                            <td>Rp 145.000</td>
                            <td><span class="status-badge active">Selesai</span></td>
                        </tr>
                        <tr>
                            <td>28 Jan 2026</td>
                            <td>#BLB004</td>
                            <td>Kak Budi</td>
                            <td>Cinnamon Roll</td>
                            <td>5</td>
                            <td>Rp 150.000</td>
                            <td><span class="status-badge active">Selesai</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </main>
    </div>

    <script>
        // Check auth
        if (localStorage.getItem('blububb_admin_logged') !== 'true') {
            window.location.href = 'login.html';
        }

        // Logout
        document.getElementById('logoutBtn').addEventListener('click', function (e) {
            e.preventDefault();
            localStorage.removeItem('blububb_admin_logged');
            window.location.href = 'login.html';
        });

        // Monthly Revenue Chart
        const monthlyCtx = document.getElementById('monthlyChart').getContext('2d');
        new Chart(monthlyCtx, {
            type: 'bar',
            data: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                datasets: [{
                    label: 'Pendapatan (Rp)',
                    data: [5200000, 6800000, 5400000, 6000000],
                    backgroundColor: [
                        'rgba(233, 69, 96, 0.8)',
                        'rgba(123, 104, 238, 0.8)',
                        'rgba(0, 217, 165, 0.8)',
                        'rgba(255, 193, 7, 0.8)'
                    ],
                    borderRadius: 10,
                    borderSkipped: false
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(255, 255, 255, 0.05)' },
                        ticks: {
                            color: '#a0a0a0',
                            callback: (v) => 'Rp ' + (v / 1000000) + 'jt'
                        }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: '#a0a0a0' }
                    }
                }
            }
        });

        // Product Sales Chart
        const productCtx = document.getElementById('productChart').getContext('2d');
        new Chart(productCtx, {
            type: 'doughnut',
            data: {
                labels: ['Korean Strawberry', 'Blueberry Cheese', 'Red Velvet', 'Ice Cream', 'Lainnya'],
                datasets: [{
                    data: [35, 25, 20, 12, 8],
                    backgroundColor: [
                        '#e94560',
                        '#7b68ee',
                        '#00d9a5',
                        '#ffc107',
                        '#6c757d'
                    ],
                    borderWidth: 0,
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'right',
                        labels: {
                            color: '#a0a0a0',
                            padding: 15,
                            usePointStyle: true
                        }
                    }
                },
                cutout: '60%'
            }
        });
    </script>
</body>

</html>